@*
* This template is called from the `index` template. This template
* handles the rendering of the page header and body tags. It takes
* two arguments, a `String` for the title of the page and an `Html`
* object to insert into the body of the page.
*@
@(title: String)(content: Html)

@activeLink(currentPath: String) = @{
  if (request.path.equals(currentPath)) "active"
}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Trainspotter">
    <title>Trainspotter - @title</title>
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/bootstrap-4.min.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/font-awesome.min.css")">
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/main.css")">
    <link rel="shortcut icon" type="image/png" href="@routes.Assets.versioned("images/favicon.png")">
  </head>
  <body>
    <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse bg-faded">
      <div class="container">
        <!-- Nav bar -->
        <a class="navbar-brand" href="@routes.ApplicationController.index()">Trainspotter</a>
        <div id="navbar" class="collapse navbar-collapse">

          <ul class="navbar-nav mr-auto">
            <li class="nav-item @activeLink(routes.TracklistController.index().toString)">
              <a href="@routes.TracklistController.index()" class="nav-link">Tracklists</a>
            </li>
            <li class="nav-item dropdown @activeLink(routes.GenreController.index.toString)">
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Genres</a>
              <div class="dropdown-menu">
                <a href="@routes.GenreController.view(1)" class="dropdown-item">House</a>
                <a href="@routes.GenreController.view(2)" class="dropdown-item">Techno</a>
                <a href="@routes.GenreController.view(3)" class="dropdown-item">Deep House</a>
                <a href="@routes.GenreController.view(4)" class="dropdown-item">Tech House</a>
                <a href="@routes.GenreController.view(5)" class="dropdown-item">Progressive</a>
              </div>
            </li>
            <li class="nav-item @activeLink(routes.ChannelController.index.toString)">
              <a href="@routes.ChannelController.index()" class="nav-link">Channels</a>
            </li>
            <li class="nav-item @activeLink(routes.ArtistController.index().toString)">
              <a href="@routes.ArtistController.index()" class="nav-link">Artists</a>
            </li>
            <li class="nav-item @activeLink(routes.LabelController.index.toString)">
              <a href="@routes.LabelController.index()" class="nav-link">Labels</a>
            </li>
          </ul>

          <ul class="navbar-nav">
            <li class="navbar-item dropdown">
            @if(session.get("email") == null) {
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Register/Login</a>
              <div class="dropdown-menu">
                <a href="@routes.UserController.registerForm()" class="dropdown-item">
                  <i class="fa fa-user-plus" title="Profile" aria-hidden="true"></i>
                  Register
                </a>
                <a href="@routes.UserController.loginForm()" class="dropdown-item">
                  <i class="fa fa-sign-in" title="Profile" aria-hidden="true"></i>
                  Login
                </a>
              </div>
            } else {
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
                <i class="fa fa-user" title="@session.get("user_name")" aria-hidden="true"></i>
                @session.get("user_name")
              </a>
              <div class="dropdown-menu">
                <a href="@routes.UserController.editForm(session.get("user_id").toLong)" class="dropdown-item">
                  <i class="fa fa-dashboard" title="Profile" aria-hidden="true"></i> Profile
                </a>
                <form action="@routes.UserController.logout()" method="post">
                  <button type="submit" class="dropdown-item">
                    <i class="fa fa-sign-out" title="Profile" aria-hidden="true"></i> Logout
                  </button>
                </form>
              </div>
            }
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Search bar -->
    <nav class="navbar navbar-toggleable-md navbar-light bg-faded">
      <div class="container">
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search">
          <button class="btn btn-outline-primary my-2 my-sm-0"><i class="fa fa-search"></i></button>
        </form>
      </div>
    </nav>

      <!-- Main content -->
    <div class="container" role="main">@content</div>

    <script src="@routes.Assets.versioned("javascripts/jquery-3.2.1.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/tether.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/bootstrap-4.min.js")" type="text/javascript"></script>
  </body>
</html>
